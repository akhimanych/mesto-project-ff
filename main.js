(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(e){e.remove()}function n(t,n,o,r){var c=e.querySelector(".card").cloneNode(!0);if(!c)return console.error("Элемент .card не найден в шаблоне"),null;var l=c.querySelector(".card__image"),u=c.querySelector(".card__title"),p=c.querySelector(".card__delete-button"),a=c.querySelector(".card__like-button");return l&&u&&p&&a?(l.src=t.link,l.alt="Изображение места: ".concat(t.name),u.textContent=t.name,p.addEventListener("click",(function(){n(c)})),a.addEventListener("click",(function(){o(a)})),l.addEventListener("click",(function(){r({src:l.src,alt:l.alt})})),c):(console.error("Ошибка в структуре шаблона карточки"),null)}function o(e){e.classList.contains("card__like-button_is-active")?e.classList.remove("card__like-button_is-active"):e.classList.add("card__like-button_is-active")}function r(e){e&&(e.classList.add("popup_is-opened"),document.addEventListener("keydown",l))}function c(e){e&&(e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",l))}function l(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&c(t)}}function u(e){if(e.target.classList.contains("popup__close")||e.target===e.currentTarget){var t=e.target.closest(".popup");t&&t.classList.contains("popup_is-opened")&&c(t)}}var p=document.querySelector(".places__list"),a=document.querySelector(".popup_type_edit"),i=document.querySelector(".popup_type_new-card"),d=document.querySelector(".popup_type_image"),s=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),v=document.querySelector(".profile__edit-button"),m=null==a?void 0:a.querySelector(".popup__form"),y=null==m?void 0:m.querySelector(".popup__input_type_name"),f=null==m?void 0:m.querySelector(".popup__input_type_description"),k=document.querySelector(".profile__add-button"),q=null==i?void 0:i.querySelector(".popup__form"),S=null==q?void 0:q.querySelector(".popup__input_type_card-name"),L=null==q?void 0:q.querySelector(".popup__input_type_url"),g=null==d?void 0:d.querySelector(".popup__image"),E=null==d?void 0:d.querySelector(".popup__caption");function b(e){var t=e.src,n=e.alt;g&&E&&(g.src=t,g.alt=n,E.textContent=n.replace("Изображение места: ","")),r(d)}document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated"),e.addEventListener("click",u)})),null==v||v.addEventListener("click",(function(){y&&f&&s&&_&&(y.value=s.textContent,f.value=_.textContent),r(a)})),null==k||k.addEventListener("click",(function(){r(i)})),m.addEventListener("submit",(function(e){e.preventDefault(),y&&f&&s&&_&&(s.textContent=y.value,_.textContent=f.value),c(a)})),null==q||q.addEventListener("submit",(function(e){e.preventDefault();var r=n({name:S.value,link:L.value},t,o,b);r&&(p.prepend(r),S.value="",L.value=""),c(i)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var r=n(e,t,o,b);r&&p.append(r)}))})();
//# sourceMappingURL=main.js.map